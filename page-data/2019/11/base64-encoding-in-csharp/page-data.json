{"componentChunkName":"component---src-templates-post-tsx","path":"/2019/11/base64-encoding-in-csharp/","result":{"data":{"markdownRemark":{"html":"<p>C#でBase64エンコーディングを行う場合、<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.convert\"><code>System.Convert</code></a>クラスを利用する。</p>\n<h2 id=\"convert-string-to-base64string\" style=\"position:relative;\"><a href=\"#convert-string-to-base64string\" aria-label=\"convert string to base64string permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Convert string to Base64String</h2>\n<p>文字列からBase64エンコーディングされた文字列を取得する場合は、<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.convert.tobase64string\"><code>Convert.ToBase64String</code></a>メソッドを用いる。\nただし、入力が<code>byte[]</code>なので、入力文字列のエンコードがUTF8であれば、<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.encoding.getbytes\"><code>Encoding.GetBytes</code></a>を用いて、<code>string</code>を<code>byte[]</code>に変換してやる。</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token comment\">// inputが入力文字列</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> bytes <span class=\"token operator\">=</span> System<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetBytes</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// resultにBase64エンコーディングされた文字列が格納される</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> result <span class=\"token operator\">=</span> System<span class=\"token punctuation\">.</span>Convert<span class=\"token punctuation\">.</span><span class=\"token function\">ToBase64String</span><span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"convert-base64string-to-string\" style=\"position:relative;\"><a href=\"#convert-base64string-to-string\" aria-label=\"convert base64string to string permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Convert Base64String to string</h2>\n<p>Base64エンコーディングされた文字列をデコードするには、<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.convert.frombase64string?view=netframework-4.8\"><code>Convert.FromBase64String</code></a>メソッドを用いる。\n出力が<code>byte[]</code>なので、<code>string</code>で受け取りたい場合は、<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.encoding.getstring?view=netframework-4.8\"><code>Encoding.GetString</code></a>を用いて、<code>bytes[]</code>を<code>string</code>に変換する。</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token comment\">// Base64エンコーディングされた文字列をデコードし、`byte[]`として受け取る</span>\n<span class=\"token comment\">// inputが、Base64エンコーディングされた文字列</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> bytes <span class=\"token operator\">=</span> System<span class=\"token punctuation\">.</span>Convert<span class=\"token punctuation\">.</span><span class=\"token function\">FromBase64String</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// stringに変換</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> result <span class=\"token operator\">=</span> System<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>Encoding<span class=\"token punctuation\">.</span>UTF8<span class=\"token punctuation\">.</span><span class=\"token function\">GetString</span><span class=\"token punctuation\">(</span>bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.convert?view=netframework-4.8#base64-encoding\">Base64 Encoding - Convert Class (System) | Microsoft Docs</a></li>\n</ul>","excerpt":"C#でBase64エンコーディングを行う場合、System.Convertクラスを利用する。 Convert string to Base64String 文字列からBase64エンコーディングされた文字列を取得する場合は、Convert.ToBase64Stringメソッドを用いる。\nただし、入力がbyte[]なので、入力文字列のエンコードがUTF8であれば、Encoding.GetBytesを用いて、stringをbyte[]に変換してやる。 Convert Base64String to…","fields":{"slug":"/2019/11/base64-encoding-in-csharp/"},"frontmatter":{"date":"November 26, 2019","type":null,"tags":["Tips","C#"],"title":"Base64 Encoding in C#","description":null,"eyecatch":null}}},"pageContext":{"id":"4e291cd5-9a7b-5c28-931a-218a801893ad"}},"staticQueryHashes":["1480509143","3159585216"]}