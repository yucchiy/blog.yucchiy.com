{"componentChunkName":"component---src-templates-post-tsx","path":"/articles/2021/01/how-to-get-reflect-vector-in-glsl/","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://learnopengl.com/Lighting/Basic-Lighting\">こちら</a>をみながらOpenGLでBasic Lightまでやっていて、GLSLのふと<a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/reflect.xhtml\">reflect</a>について気になったのでメモしておきます。</p>\n<h2 id=\"glslのreflectについて\" style=\"position:relative;\"><a href=\"#glsl%E3%81%AEreflect%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\" aria-label=\"glslのreflectについて permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GLSLのreflectについて</h2>\n<p>GLSLの<a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/reflect.xhtml\">reflect</a>関数は、文字通り入力ベクトルに対して反射ベクトルを返す関数です。具体的には下記画像の <em>R</em> を返却します。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9df88679f68370f91d27d5e942dbda65/772e8/reflect-vector.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVQ4y62TXUvDMBSGn3S0rpUyxSkDFUEZ7abzA9sLb0Shd/4LHexf+VslcAKH0rSN24GQkDZPzsn7HvBHBPwA7xwojoEG+AAeZM/sA4xlPgE+DwF0MQXKHqBpPdNgZMAmJMMb4EzeLATo1m/ABFgD33ZjAcyAJ08WfRnaJL5kvQV2CB0Bno7M0M3PQCrra+BcH7QfXgNKnis7eZUqgMvWng9YAUcthunqjronw0iVtxxS3ijV7zxA918danJbTqKA+q1sZlehnXMB3CtrbJRwVWiruVtfBJYojz5KE/wrcgHF0gWZXDJYqukYzuwrEehW4LlSu+vcaIEa5c/BKDxjJRDbn79ip7LnfzvSP47eEGtJB9rzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"reflect関数の動作についての図示\"\n        title=\"reflect関数の動作についての図示\"\n        src=\"/static/9df88679f68370f91d27d5e942dbda65/772e8/reflect-vector.png\"\n        srcset=\"/static/9df88679f68370f91d27d5e942dbda65/772e8/reflect-vector.png 200w\"\n        sizes=\"(max-width: 200px) 100vw, 200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>reflect関数の動作についての図示</p></figcaption>\n  </figure></p>\n<p>ここで、<em>I</em> は 反射ベクトルを求めたい入力ベクトル、<em>N</em> は反射面の方向を表す法線ベクトルです。 <em>N</em> は正規化されている必要があります。\n反射ベクトルなので_I_と_N_、<em>R_と_N</em> が成す角は等しくなります。ちなみにドキュメントに書いてあるとおり、反射ベクトルの計算方法は <em>I</em> - 2.0 * dot(<em>N</em>, <em>I</em>) * _N_となります。</p>\n<h2 id=\"反射ベクトルの導出\" style=\"position:relative;\"><a href=\"#%E5%8F%8D%E5%B0%84%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB%E3%81%AE%E5%B0%8E%E5%87%BA\" aria-label=\"反射ベクトルの導出 permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>反射ベクトルの導出</h2>\n<p>なぜ反射ベクトルが <em>I</em> - 2.0 * dot(<em>N</em>, <em>I</em>) * <em>N</em> となるのか導出してみます。</p>\n<p>_R_を下図のように求めることを考えてみます。ただし導出の兼ね合いで入力ベクトル_I_は、一旦反転させたものを考えます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/84c8ce4f08e57c0bfb5b8887c4a536bf/e17e5/reflect-step1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsklEQVQoz6WSzQrCQAyEv6qrHiq01hbX/6U3L9arIILg+7+SFAcNpUitAwvJLjuZSQIvRHzwAJYmt28/of44B6bASnd5H6IYWAA74AocgJNU3oAt4IEEGHYhLHVmylMgmM818RG4AOOubZgAhWLXsOr79tKL2JmhZFJssQb2xk0qN7mcveFEOjJqNy3TPgOViEuRB7WlaqrMVClRHH9xNDBFIqlsbUvQxAv+RGR27953oZ+y9AcBK/JE9AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_R_の求め方\"\n        title=\"_R_の求め方\"\n        src=\"/static/84c8ce4f08e57c0bfb5b8887c4a536bf/e17e5/reflect-step1.png\"\n        srcset=\"/static/84c8ce4f08e57c0bfb5b8887c4a536bf/772e8/reflect-step1.png 200w,\n/static/84c8ce4f08e57c0bfb5b8887c4a536bf/e17e5/reflect-step1.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_R_の求め方</p></figcaption>\n  </figure></p>\n<p>反射なので_I_と_N_、<em>R_と_N</em> が成す角は等しいです。そのため上図のように_I_から_N_に対して垂線を考えると、_I_とそのベクトル_h_を2倍したものを足し合わせるとちょうど_R_になります。</p>\n<p>また、下図のように_I_から_N_の垂線の足が成すベクトル_n_を考えます。_n_を用いると、<em>R_は 2_n</em> - _I_と書き直せます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e10f32dc5f8d36d0719669a8d06f4875/0b533/reflect-step2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVQoz3WSXU/CQBBFT4tRi0UKBRGsEPAr+qQxPvns//9LZvEUxo3eZDM73e2dO3cWflAYb4B3oOSI/uzUeBL2pfmfuAYaYAxUwDojvgc64x0wMa5yoltgAzxI8glszXfAM/AEDC2UiEbAmXkRlO8xtsrA/Ao4dz8D5hbtsdKaC2BpXinqgEqihKntD4w5Jq7Gf2rVNrnpC2XP9KYNSku/1RZqg5DaIRUq/zXFhf40EhP8efO804KlA/pwn4hf83ZGetL98xL61pLaR+/vwjPai2vDSt58AS/AZRjKMAxwbtHW9qex5DeYlAoQObLA4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_n_を用いた_R_の表現\"\n        title=\"_n_を用いた_R_の表現\"\n        src=\"/static/e10f32dc5f8d36d0719669a8d06f4875/0b533/reflect-step2.png\"\n        srcset=\"/static/e10f32dc5f8d36d0719669a8d06f4875/772e8/reflect-step2.png 200w,\n/static/e10f32dc5f8d36d0719669a8d06f4875/e17e5/reflect-step2.png 400w,\n/static/e10f32dc5f8d36d0719669a8d06f4875/0b533/reflect-step2.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_n_を用いた_R_の表現</p></figcaption>\n  </figure></p>\n<p>_n_は_I_を_N_に射影したベクトルで、一般に射影ベクトルと呼びます。_n_は、_N_と同じ方向を向いているため、_n_と_N_の長さがわかれば求まります。\nさらに三角関数から、下図のように_n_の長さは_I_の長さを用いて表現できます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa68aecb9e2ba48a4b7def26463545ab/0b533/reflect-step3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVQ4y32SWU8CQRCEPw5RDt2Vy0XABTTGeBGMBy++Gl8khP//Y0yTmmSYzNDJZma2Z6qrqhvi8Q28at8Fel7uBvgARsAUeAdOQoCK1hpQFYgBDoANUOhsICXwILBPYB1gHMRQ1d3+HGjofKGCuYAmQF3/DsLYLCTF1i+B7YAsUnQgdt2EXXv6d8CT2LSBJvAWeJeUFUZVaxk86As8jJ4I5FIwBs5Epu5fzCTbxUjS/bwVvwdegKXsWalhP7Fuz4GWx/BPTFAjChUZC9A8v9S7ZUx+U9Ld2HQSNvXFrDzmpfPvGtiqYitxN/NGqhYDqniADUkYemPj53PN4EKgM+BRb1Yptib1OWaywrp5KnZu1DpOkTG5Cj4b3l/gVn4VQT7lLf+fJA+EVdecngAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_n_を三角関数を用いて、_I_と、_I_と_N_の成す角で表現する\"\n        title=\"_n_を三角関数を用いて、_I_と、_I_と_N_の成す角で表現する\"\n        src=\"/static/aa68aecb9e2ba48a4b7def26463545ab/0b533/reflect-step3.png\"\n        srcset=\"/static/aa68aecb9e2ba48a4b7def26463545ab/772e8/reflect-step3.png 200w,\n/static/aa68aecb9e2ba48a4b7def26463545ab/e17e5/reflect-step3.png 400w,\n/static/aa68aecb9e2ba48a4b7def26463545ab/0b533/reflect-step3.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_n_を三角関数を用いて、_I_と、_I_と_N_の成す角で表現する</p></figcaption>\n  </figure></p>\n<p>θは_I_と_N_が成す角で、cosθは内積を用いて下記のように計算できます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/941779e235722741c901ab76cb162ce1/772e8/reflect-cos.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVQoz73Sy0qDMRQE4K+1FnRhlVqVVrzUC7WIt40VBTdFBBcVxI0v4fvvJDo/SPVfuHEgISc5mZwzE9j0hRHu0EncwBKOcIplrOAcN1j1E8My9RJM8YgWnrEVsltc4ArbeM36DBM84AXXeC9ETSyGeD2VdUO8j0H2j7GRvLWcDTNKd7vfuv1flNYP0cZTqqs0/m18ljmIAfc4SFyJvpecXjRrR6ZazPAWh2cRvhDvoB+Hx9GwaHUZLWtRDFnIq425s1a+yThGTRM3/6pbRdzNlzmZq7RTd/MDszMN/l8lswUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_I_と_N_のなす角と内積\"\n        title=\"_I_と_N_のなす角と内積\"\n        src=\"/static/941779e235722741c901ab76cb162ce1/772e8/reflect-cos.png\"\n        srcset=\"/static/941779e235722741c901ab76cb162ce1/772e8/reflect-cos.png 200w\"\n        sizes=\"(max-width: 200px) 100vw, 200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_I_と_N_のなす角と内積</p></figcaption>\n  </figure></p>\n<p>上記と、_N_は正規化されているので単位ベクトルなため(つまり長さが1)、先程のベクトル_n_は下図のように書き表すことができます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c3513bd7d8e56e1ea11ccbdef9e5eeb/0b533/reflect-step4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVQoz32T204CQRBEz6qriIAIoiK48OANo5Fo4iVeHnzy/7/IDDkbO7NoJbPT250uqqsX+EXh/QA80sR2iE+Aa2AEVMCpZydvGgCbFvdD/gB4k+gIOA8/nM4CeAe28LEnwRfQB27M1WgBPaArOapbGpeKWWFuYWIynY9M4TocAmcK2IiFUjXDkEtkuxlBEeJEdAkcA8/6mUjbsaFyNILZOTo2pSnGenkHXACzYMEKSdHUOKl9VX1UN5Wo48gLibreDREjt3dfb+wfJNIrexre1AoSyZMedbN6kW297Sc29H3wl4iWmy/X1Po2Lr2TBZ/ALfASN1Zl59txJlm+HnGu4p5/grGe8gOaYg30emdEQgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_n_を_I_と_N_で表現する\"\n        title=\"_n_を_I_と_N_で表現する\"\n        src=\"/static/5c3513bd7d8e56e1ea11ccbdef9e5eeb/0b533/reflect-step4.png\"\n        srcset=\"/static/5c3513bd7d8e56e1ea11ccbdef9e5eeb/772e8/reflect-step4.png 200w,\n/static/5c3513bd7d8e56e1ea11ccbdef9e5eeb/e17e5/reflect-step4.png 400w,\n/static/5c3513bd7d8e56e1ea11ccbdef9e5eeb/0b533/reflect-step4.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_n_を_I_と_N_で表現する</p></figcaption>\n  </figure></p>\n<p>これでベクトル_n_を<strong>既知の(というか入力値)値である</strong>_I_と_N_で表すことができたので、最後に下図のように_R_を求めます。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e52988a5a9a20426fd04a8e6a8fa81d4/0b533/reflect-step5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQoz5WSWwuCUBCEP+2UaTfTbkg3JXrpoacg6Ln//5dia4JTaOHA4urZnZ2dI0DICyvgyicCRWtMgSGQAV2RN+HvgA1QKkzhDjgCWz2rtiqNcFCTm8oCWANnncXAXsPR0OSb0FZcKM+BGdDxviECO5trAyPvy6paWGFPTdawBKIfnhmZU72Rpt5dPOGkKNXl5DVkEym7AQc1X+R7qd7Sn5rIk6Jhi1ARyZJA7065exdmUjQG7sAJGHl+xm1+wAeSEAfYtTUcoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_R_の計算(途中)\"\n        title=\"_R_の計算(途中)\"\n        src=\"/static/e52988a5a9a20426fd04a8e6a8fa81d4/0b533/reflect-step5.png\"\n        srcset=\"/static/e52988a5a9a20426fd04a8e6a8fa81d4/772e8/reflect-step5.png 200w,\n/static/e52988a5a9a20426fd04a8e6a8fa81d4/e17e5/reflect-step5.png 400w,\n/static/e52988a5a9a20426fd04a8e6a8fa81d4/0b533/reflect-step5.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_R_の計算(途中)</p></figcaption>\n  </figure></p>\n<p>ただし最後に_I_は導出の都合で反転させていたので、下図のようにもう一度反転させます。_I_はそのまま符号を入れ替えます。2 * dot(<em>I</em>,<em>N</em>) * _N_の方は内積の計算の片方が逆を向くので、こちらもdot(<em>I</em>,<em>N</em>)の符号が入れ替わります。\nよって、<em>R_は_I</em> - 2.0 * dot(<em>N</em>, <em>I</em>) * _N_であることを示すことができました。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/44d194d3be5c1757d791fd7a6283ec62/0b533/reflect-step6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApklEQVQoz53R4UpCQRQE4K+MKCsvFzMlMpG6IYJ/fAM16Edv4vs/gGyMdO1X3oHlHObsDjNn+cUED6kVhjpijBHe8YY1pmgwD399jmBx8/THqYg84wVX57q8R52+uLzDI3rhLrEKX2cdN0kxSJKPpDmJXh6+pq9asyI8y2qOsyK8QD9ck/mPSMFtote5UEQucjqjRFq2onbCFp+p39hjgx2+8uv/xgGpKgfDT4DFegAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_R_の計算(最終)\"\n        title=\"_R_の計算(最終)\"\n        src=\"/static/44d194d3be5c1757d791fd7a6283ec62/0b533/reflect-step6.png\"\n        srcset=\"/static/44d194d3be5c1757d791fd7a6283ec62/772e8/reflect-step6.png 200w,\n/static/44d194d3be5c1757d791fd7a6283ec62/e17e5/reflect-step6.png 400w,\n/static/44d194d3be5c1757d791fd7a6283ec62/0b533/reflect-step6.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>_R_の計算(最終)</p></figcaption>\n  </figure></p>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"header-link before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>GLSLのreflect関数について調べ、またその導出を行いました。</p>","excerpt":"こちらをみながらOpenGLでBasic Lightまでやっていて、GLSLのふとreflectについて気になったのでメモしておきます。 GLSLのreflectについて GLSLのreflect関数は、文字通り入力ベクトルに対して反射ベクトルを返す関数です。具体的には下記画像の R を返却します。  ここで、I は 反射ベクトルを求めたい入力ベクトル、N は反射面の方向を表す法線ベクトルです。 N は正規化されている必要があります。\n反射ベクトルなので_I_と_N_、R_と_N…","fields":{"slug":"/articles/2021/01/how-to-get-reflect-vector-in-glsl/"},"frontmatter":{"date":"January 20, 2021","type":null,"tags":["OpenGL","Math","GLSL"],"title":"GLSLのreflectとその計算方法","description":null,"eyecatch":null}}},"pageContext":{"id":"b0774145-9768-53a3-8c27-b72de54a5641"}},"staticQueryHashes":["1480509143","3159585216"]}